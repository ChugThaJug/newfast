import{f as h,r as f,g as y,o as s,c as n,h as x,v as V,i as r,a,j as g,k as b,l as k,t as l,F as w,m as $,n as F,b as u,w as R,d as C,_ as N}from"./Vuiljvt5.js";import{_ as B}from"./BaliHarg.js";import{u as D}from"./D7WEHdVE.js";const L=["disabled"],S=h({__name:"VideoForm",setup(p){const e=f(""),t=f(!1),i=y();async function d(){t.value=!0;try{const o=new FormData;o.append("url",e.value);const{video_id:_}=await $fetch("/api/process-video",{method:"POST",body:o});i.push(`/video/${_}`)}catch(o){console.error("Error processing video:",o)}finally{t.value=!1}}return(o,_)=>(s(),n("form",{onSubmit:b(d,["prevent"])},[x(a("input",{"onUpdate:modelValue":_[0]||(_[0]=m=>g(e)?e.value=m:null),type:"url",placeholder:"Enter YouTube URL",required:""},null,512),[[V,r(e)]]),a("button",{type:"submit",disabled:r(t)},"Process Video",8,L)],32))}}),T=a("h2",null,"Recent Videos",-1),A={key:0},E={key:1},P={key:2},M=["src","alt"],U=h({__name:"RecentVideos",async setup(p){let e,t;const{data:i,pending:d,error:o}=([e,t]=k(()=>D("/api/videos","$A0APtWgZGC")),e=await e,t(),e);return(_,m)=>{const v=B;return s(),n("div",null,[T,r(d)?(s(),n("div",A,"Loading...")):r(o)?(s(),n("div",E,l(r(o).message),1)):r(i)?(s(),n("div",P,[(s(!0),n(w,null,$(r(i),c=>(s(),n("div",{key:c.video_id},[a("h3",null,[u(v,{to:`/video/${c.video_id}`},{default:R(()=>[C(l(c.title),1)]),_:2},1032,["to"])]),a("p",null,"By "+l(c.author),1),a("img",{src:c.thumbnail_url,alt:c.title},null,8,M)]))),128))])):F("",!0)])}}}),j={},q=a("h1",null,"Stepify",-1);function G(p,e){const t=S,i=U;return s(),n("div",null,[q,u(t),u(i)])}const Z=N(j,[["render",G]]);export{Z as default};
